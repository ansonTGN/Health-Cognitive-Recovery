<style>
    :root {
        --primary: #00695c; --primary-dark: #004d40; --accent: #d84315;
        --dark: #263238; --muted: #546e7a; --bg-body: #eceff1; --surface: #ffffff;
        --node-person: #1565c0; --node-condition: #c62828; --node-intervention: #2e7d32;
        --node-outcome: #6a1b9a; --node-resource: #00838f; --node-concept: #455a64;
        --navbar-height: 65px;
    }

    body { font-family: 'Manrope', sans-serif; background-color: var(--bg-body); overflow: hidden; margin: 0; }
    
    /* Layout */
    .app-container { display: flex; height: calc(100vh - var(--navbar-height)); margin-top: var(--navbar-height); }
    
    /* Sidebar y Tabs */
    .pane-sidebar { width: 420px; min-width: 420px; background: white; border-left: 1px solid #e0e0e0; display: flex; flex-direction: column; z-index: 100; box-shadow: -2px 0 10px rgba(0,0,0,0.05); }
    
    /* Importante: Tab Content debe llenar el espacio restante */
    .tab-content { flex: 1; overflow-y: auto; position: relative; height: 100%; }
    
    /* Estilos de Pesta√±as */
    .nav-tabs-custom .nav-link { border: none; border-bottom: 3px solid transparent; color: var(--muted); border-radius: 0; padding: 12px 0; }
    .nav-tabs-custom .nav-link.active { color: var(--primary); border-bottom-color: var(--primary); background: transparent; font-weight: 700; }
    .nav-tabs-custom .nav-link:hover { color: var(--primary-dark); background: #f8fafc; }

    /* Chat */
    .chat-container { height: 100%; overflow-y: auto; padding: 1.5rem; background: #f8fafc; display: flex; flex-direction: column; }
    .msg-bubble { max-width: 92%; padding: 1rem; border-radius: 12px; margin-bottom: 1rem; box-shadow: 0 1px 2px rgba(0,0,0,0.05); font-size: 0.95rem; }
    .msg-user { align-self: flex-end; background: var(--primary); color: white; border-bottom-right-radius: 2px; }
    .msg-ai { align-self: flex-start; background: white; border: 1px solid #e0e0e0; border-bottom-left-radius: 2px; }
    
    /* Fuentes en Chat */
    .source-card { background: #fffde7; border-left: 4px solid #fbc02d; padding: 10px; margin-top: 8px; border-radius: 4px; font-size: 0.85rem; cursor: pointer; transition: transform 0.2s; }
    .source-card:hover { transform: translateX(3px); background: #fff9c4; }
    .citation-badge { cursor: pointer; vertical-align: text-top; font-size: 0.75rem; margin: 0 2px; }

    /* Grafo */
    .pane-graph { flex: 1; position: relative; }
    #network-container { width: 100%; height: 100%; background: #f5f5f5; }
    .legend-floating { position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.9); padding: 10px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); font-size: 0.8rem; pointer-events: none; }
    
    /* Responsive */
    @media (max-width: 992px) {
        .app-container { flex-direction: column; margin-top: 55px; height: calc(100vh - 55px); }
        .pane-sidebar { position: fixed; top: 55px; right: 0; bottom: 0; width: 100%; max-width: 100%; transform: translateX(100%); transition: transform 0.3s; }
        body.sidebar-open .pane-sidebar { transform: translateX(0); }
        .pane-graph { flex: 1; height: 100%; }
    }
</style>
